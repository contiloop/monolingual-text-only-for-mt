# configs/experiment/4x16gb.yaml
# 4× RTX 4080/5080 (16GB each) - DDP 설정

# @package _global_를 제거하고 defaults의 override를 사용
defaults:
  - override /training: default
  - override /model: midm

training:
  batch_size: 1
  gradient_accumulation: 16  # effective = 1 × 4 × 16 = 64

model:
  quantization:
    load_in_4bit: true
    bnb_4bit_quant_type: nf4
    bnb_4bit_use_double_quant: true
